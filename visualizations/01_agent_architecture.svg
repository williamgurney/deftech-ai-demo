<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.2 (20251019.1705)
 -->
<!-- Title: DefTech_Agent_Architecture Pages: 1 -->
<svg width="670pt" height="791pt"
 viewBox="0.00 0.00 670.00 791.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 787.38)">
<title>DefTech_Agent_Architecture</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-787.38 665.75,-787.38 665.75,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_user</title>
<polygon fill="lightgrey" stroke="lightgrey" points="51,-679.62 51,-775.38 225,-775.38 225,-679.62 51,-679.62"/>
<text xml:space="preserve" text-anchor="middle" x="138" y="-758.08" font-family="Times,serif" font-size="14.00">User Interface Layer</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_agent</title>
<polygon fill="lightblue" stroke="lightblue" points="41,-358.62 41,-645.12 369,-645.12 369,-358.62 41,-358.62"/>
<text xml:space="preserve" text-anchor="middle" x="205" y="-627.83" font-family="Times,serif" font-size="14.00">Agent Layer (Cohere Command&#45;R+)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_tools</title>
<polygon fill="lightgreen" stroke="lightgreen" points="8,-244.12 8,-324.12 547,-324.12 547,-244.12 8,-244.12"/>
<text xml:space="preserve" text-anchor="middle" x="277.5" y="-306.82" font-family="Times,serif" font-size="14.00">Tools Layer</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_data</title>
<polygon fill="lightyellow" stroke="lightyellow" points="214,-8 214,-209.62 498,-209.62 498,-8 214,-8"/>
<text xml:space="preserve" text-anchor="middle" x="356" y="-192.32" font-family="Times,serif" font-size="14.00">Data Layer</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_output</title>
<polygon fill="lightgrey" stroke="lightgrey" points="377,-358.62 377,-438.62 539,-438.62 539,-358.62 377,-358.62"/>
<text xml:space="preserve" text-anchor="middle" x="458" y="-421.32" font-family="Times,serif" font-size="14.00">Output Layer</text>
</g>
<!-- user_query -->
<g id="node1" class="node">
<title>user_query</title>
<path fill="#e3f2fd" stroke="black" d="M204.5,-742.88C204.5,-742.88 71.5,-742.88 71.5,-742.88 65.5,-742.88 59.5,-736.88 59.5,-730.88 59.5,-730.88 59.5,-699.62 59.5,-699.62 59.5,-693.62 65.5,-687.62 71.5,-687.62 71.5,-687.62 204.5,-687.62 204.5,-687.62 210.5,-687.62 216.5,-693.62 216.5,-699.62 216.5,-699.62 216.5,-730.88 216.5,-730.88 216.5,-736.88 210.5,-742.88 204.5,-742.88"/>
<text xml:space="preserve" text-anchor="middle" x="138" y="-725.58" font-family="Arial" font-size="14.00">User Query</text>
<text xml:space="preserve" text-anchor="middle" x="138" y="-709.83" font-family="Arial" font-size="14.00">&quot;What is the equipment</text>
<text xml:space="preserve" text-anchor="middle" x="138" y="-694.08" font-family="Arial" font-size="14.00">inspection procedure?&quot;</text>
</g>
<!-- agent_init -->
<g id="node2" class="node">
<title>agent_init</title>
<path fill="#bbdefb" stroke="black" d="M199.62,-612.62C199.62,-612.62 76.38,-612.62 76.38,-612.62 70.38,-612.62 64.38,-606.62 64.38,-600.62 64.38,-600.62 64.38,-585.12 64.38,-585.12 64.38,-579.12 70.38,-573.12 76.38,-573.12 76.38,-573.12 199.62,-573.12 199.62,-573.12 205.62,-573.12 211.62,-579.12 211.62,-585.12 211.62,-585.12 211.62,-600.62 211.62,-600.62 211.62,-606.62 205.62,-612.62 199.62,-612.62"/>
<text xml:space="preserve" text-anchor="middle" x="138" y="-595.33" font-family="Arial" font-size="14.00">Initialize Agent</text>
<text xml:space="preserve" text-anchor="middle" x="138" y="-579.58" font-family="Arial" font-size="14.00">(Load tools &amp; context)</text>
</g>
<!-- user_query&#45;&gt;agent_init -->
<g id="edge1" class="edge">
<title>user_query&#45;&gt;agent_init</title>
<path fill="none" stroke="black" d="M138,-687.24C138,-668.52 138,-643.59 138,-624.19"/>
<polygon fill="black" stroke="black" points="141.5,-624.45 138,-614.45 134.5,-624.45 141.5,-624.45"/>
<text xml:space="preserve" text-anchor="middle" x="141.38" y="-656.33" font-family="Times,serif" font-size="14.00">1</text>
</g>
<!-- agent_plan -->
<g id="node3" class="node">
<title>agent_plan</title>
<path fill="#bbdefb" stroke="black" d="M215,-520.62C215,-520.62 61,-520.62 61,-520.62 55,-520.62 49,-514.62 49,-508.62 49,-508.62 49,-493.12 49,-493.12 49,-487.12 55,-481.12 61,-481.12 61,-481.12 215,-481.12 215,-481.12 221,-481.12 227,-487.12 227,-493.12 227,-493.12 227,-508.62 227,-508.62 227,-514.62 221,-520.62 215,-520.62"/>
<text xml:space="preserve" text-anchor="middle" x="138" y="-503.32" font-family="Arial" font-size="14.00">Plan Action</text>
<text xml:space="preserve" text-anchor="middle" x="138" y="-487.57" font-family="Arial" font-size="14.00">(Decide which tools to use)</text>
</g>
<!-- agent_init&#45;&gt;agent_plan -->
<g id="edge2" class="edge">
<title>agent_init&#45;&gt;agent_plan</title>
<path fill="none" stroke="black" d="M138,-572.79C138,-560.98 138,-545.55 138,-532.1"/>
<polygon fill="black" stroke="black" points="141.5,-532.45 138,-522.45 134.5,-532.45 141.5,-532.45"/>
<text xml:space="preserve" text-anchor="middle" x="141.38" y="-541.83" font-family="Times,serif" font-size="14.00">2</text>
</g>
<!-- agent_execute -->
<g id="node4" class="node">
<title>agent_execute</title>
<path fill="#bbdefb" stroke="black" d="M267.25,-406.12C267.25,-406.12 156.75,-406.12 156.75,-406.12 150.75,-406.12 144.75,-400.12 144.75,-394.12 144.75,-394.12 144.75,-378.62 144.75,-378.62 144.75,-372.62 150.75,-366.62 156.75,-366.62 156.75,-366.62 267.25,-366.62 267.25,-366.62 273.25,-366.62 279.25,-372.62 279.25,-378.62 279.25,-378.62 279.25,-394.12 279.25,-394.12 279.25,-400.12 273.25,-406.12 267.25,-406.12"/>
<text xml:space="preserve" text-anchor="middle" x="212" y="-388.82" font-family="Arial" font-size="14.00">Execute Tools</text>
<text xml:space="preserve" text-anchor="middle" x="212" y="-373.07" font-family="Arial" font-size="14.00">(Call selected tools)</text>
</g>
<!-- agent_plan&#45;&gt;agent_execute -->
<g id="edge3" class="edge">
<title>agent_plan&#45;&gt;agent_execute</title>
<path fill="none" stroke="black" d="M150.55,-480.79C162.25,-463.01 179.84,-436.27 193.21,-415.95"/>
<polygon fill="black" stroke="black" points="195.98,-418.1 198.55,-407.82 190.13,-414.25 195.98,-418.1"/>
<text xml:space="preserve" text-anchor="middle" x="176.16" y="-449.82" font-family="Times,serif" font-size="14.00">3</text>
</g>
<!-- tool_search_manuals -->
<g id="node7" class="node">
<title>tool_search_manuals</title>
<polygon fill="#90caf9" stroke="black" points="163.62,-291.62 16.38,-291.62 16.38,-287.62 12.37,-287.62 12.37,-283.62 16.38,-283.62 16.38,-260.12 12.38,-260.12 12.38,-256.12 16.38,-256.12 16.38,-252.12 163.62,-252.12 163.62,-291.62"/>
<polyline fill="none" stroke="black" points="16.38,-287.62 20.38,-287.62 20.38,-283.62 16.38,-283.62"/>
<polyline fill="none" stroke="black" points="16.38,-260.12 20.38,-260.12 20.38,-256.12 16.38,-256.12"/>
<text xml:space="preserve" text-anchor="middle" x="90" y="-274.32" font-family="Arial" font-size="14.00">search_manuals</text>
<text xml:space="preserve" text-anchor="middle" x="90" y="-258.57" font-family="Arial" font-size="14.00">(Query, Manual Type)</text>
</g>
<!-- agent_execute&#45;&gt;tool_search_manuals -->
<g id="edge4" class="edge">
<title>agent_execute&#45;&gt;tool_search_manuals</title>
<path fill="none" stroke="black" d="M191.3,-366.29C171.5,-348.03 141.43,-320.3 119.2,-299.8"/>
<polygon fill="black" stroke="black" points="121.63,-297.28 111.91,-293.08 116.89,-302.43 121.63,-297.28"/>
<text xml:space="preserve" text-anchor="middle" x="175.43" y="-335.32" font-family="Times,serif" font-size="14.00">3a</text>
</g>
<!-- tool_search_doctrine -->
<g id="node8" class="node">
<title>tool_search_doctrine</title>
<polygon fill="#90caf9" stroke="black" points="332.5,-291.62 181.5,-291.62 181.5,-287.62 177.5,-287.62 177.5,-283.62 181.5,-283.62 181.5,-260.12 177.5,-260.12 177.5,-256.12 181.5,-256.12 181.5,-252.12 332.5,-252.12 332.5,-291.62"/>
<polyline fill="none" stroke="black" points="181.5,-287.62 185.5,-287.62 185.5,-283.62 181.5,-283.62"/>
<polyline fill="none" stroke="black" points="181.5,-260.12 185.5,-260.12 185.5,-256.12 181.5,-256.12"/>
<text xml:space="preserve" text-anchor="middle" x="257" y="-274.32" font-family="Arial" font-size="14.00">search_doctrine</text>
<text xml:space="preserve" text-anchor="middle" x="257" y="-258.57" font-family="Arial" font-size="14.00">(Query, Doctrine Area)</text>
</g>
<!-- agent_execute&#45;&gt;tool_search_doctrine -->
<g id="edge5" class="edge">
<title>agent_execute&#45;&gt;tool_search_doctrine</title>
<path fill="none" stroke="black" d="M219.63,-366.29C226.62,-348.84 237.05,-322.74 245.13,-302.56"/>
<polygon fill="black" stroke="black" points="248.3,-304.04 248.77,-293.46 241.8,-301.44 248.3,-304.04"/>
<text xml:space="preserve" text-anchor="middle" x="239.9" y="-335.32" font-family="Times,serif" font-size="14.00">3b</text>
</g>
<!-- tool_log_access -->
<g id="node9" class="node">
<title>tool_log_access</title>
<polygon fill="#90caf9" stroke="black" points="539.25,-291.62 350.75,-291.62 350.75,-287.62 346.75,-287.62 346.75,-283.62 350.75,-283.62 350.75,-260.12 346.75,-260.12 346.75,-256.12 350.75,-256.12 350.75,-252.12 539.25,-252.12 539.25,-291.62"/>
<polyline fill="none" stroke="black" points="350.75,-287.62 354.75,-287.62 354.75,-283.62 350.75,-283.62"/>
<polyline fill="none" stroke="black" points="350.75,-260.12 354.75,-260.12 354.75,-256.12 350.75,-256.12"/>
<text xml:space="preserve" text-anchor="middle" x="445" y="-274.32" font-family="Arial" font-size="14.00">log_access</text>
<text xml:space="preserve" text-anchor="middle" x="445" y="-258.57" font-family="Arial" font-size="14.00">(Doc ID, User, Classification)</text>
</g>
<!-- agent_execute&#45;&gt;tool_log_access -->
<g id="edge6" class="edge">
<title>agent_execute&#45;&gt;tool_log_access</title>
<path fill="none" stroke="black" d="M253.38,-366.15C278.98,-354.2 312.47,-338.43 342,-324.12 360.03,-315.39 379.75,-305.63 397.06,-297"/>
<polygon fill="black" stroke="black" points="398.21,-300.33 405.59,-292.73 395.08,-294.07 398.21,-300.33"/>
<text xml:space="preserve" text-anchor="middle" x="330.77" y="-335.32" font-family="Times,serif" font-size="14.00">3c</text>
</g>
<!-- agent_synthesize -->
<g id="node5" class="node">
<title>agent_synthesize</title>
<path fill="#bbdefb" stroke="black" d="M349,-612.62C349,-612.62 243,-612.62 243,-612.62 237,-612.62 231,-606.62 231,-600.62 231,-600.62 231,-585.12 231,-585.12 231,-579.12 237,-573.12 243,-573.12 243,-573.12 349,-573.12 349,-573.12 355,-573.12 361,-579.12 361,-585.12 361,-585.12 361,-600.62 361,-600.62 361,-606.62 355,-612.62 349,-612.62"/>
<text xml:space="preserve" text-anchor="middle" x="296" y="-595.33" font-family="Arial" font-size="14.00">Synthesize Answer</text>
<text xml:space="preserve" text-anchor="middle" x="296" y="-579.58" font-family="Arial" font-size="14.00">(Combine results)</text>
</g>
<!-- agent_cite -->
<g id="node6" class="node">
<title>agent_cite</title>
<path fill="#bbdefb" stroke="black" d="M348.88,-520.62C348.88,-520.62 257.12,-520.62 257.12,-520.62 251.12,-520.62 245.12,-514.62 245.12,-508.62 245.12,-508.62 245.12,-493.12 245.12,-493.12 245.12,-487.12 251.12,-481.12 257.12,-481.12 257.12,-481.12 348.88,-481.12 348.88,-481.12 354.88,-481.12 360.88,-487.12 360.88,-493.12 360.88,-493.12 360.88,-508.62 360.88,-508.62 360.88,-514.62 354.88,-520.62 348.88,-520.62"/>
<text xml:space="preserve" text-anchor="middle" x="303" y="-503.32" font-family="Arial" font-size="14.00">Add Citations</text>
<text xml:space="preserve" text-anchor="middle" x="303" y="-487.57" font-family="Arial" font-size="14.00">(Link to sources)</text>
</g>
<!-- agent_synthesize&#45;&gt;agent_cite -->
<g id="edge13" class="edge">
<title>agent_synthesize&#45;&gt;agent_cite</title>
<path fill="none" stroke="black" d="M297.48,-572.79C298.4,-560.98 299.6,-545.55 300.65,-532.1"/>
<polygon fill="black" stroke="black" points="304.11,-532.68 301.4,-522.44 297.14,-532.14 304.11,-532.68"/>
<text xml:space="preserve" text-anchor="middle" x="303.5" y="-541.83" font-family="Times,serif" font-size="14.00">4</text>
</g>
<!-- result -->
<g id="node13" class="node">
<title>result</title>
<path fill="#42a5f5" stroke="black" d="M518.5,-406.12C518.5,-406.12 397.5,-406.12 397.5,-406.12 391.5,-406.12 385.5,-400.12 385.5,-394.12 385.5,-394.12 385.5,-378.62 385.5,-378.62 385.5,-372.62 391.5,-366.62 397.5,-366.62 397.5,-366.62 518.5,-366.62 518.5,-366.62 524.5,-366.62 530.5,-372.62 530.5,-378.62 530.5,-378.62 530.5,-394.12 530.5,-394.12 530.5,-400.12 524.5,-406.12 518.5,-406.12"/>
<text xml:space="preserve" text-anchor="middle" x="458" y="-388.82" font-family="Arial" font-size="14.00">Answer with Citations</text>
<text xml:space="preserve" text-anchor="middle" x="458" y="-373.07" font-family="Arial" font-size="14.00">+ Audit Logs</text>
</g>
<!-- agent_cite&#45;&gt;result -->
<g id="edge14" class="edge">
<title>agent_cite&#45;&gt;result</title>
<path fill="none" stroke="black" d="M329.29,-480.79C354.9,-462.2 394.01,-433.82 422.4,-413.22"/>
<polygon fill="black" stroke="black" points="424.32,-416.15 430.35,-407.44 420.2,-410.48 424.32,-416.15"/>
<text xml:space="preserve" text-anchor="middle" x="379.23" y="-449.82" font-family="Times,serif" font-size="14.00">5</text>
</g>
<!-- embed -->
<g id="node10" class="node">
<title>embed</title>
<path fill="#64b5f6" stroke="black" d="M382,-172.19C382,-174.91 346.14,-177.12 302,-177.12 257.86,-177.12 222,-174.91 222,-172.19 222,-172.19 222,-127.75 222,-127.75 222,-125.03 257.86,-122.81 302,-122.81 346.14,-122.81 382,-125.03 382,-127.75 382,-127.75 382,-172.19 382,-172.19"/>
<path fill="none" stroke="black" d="M382,-172.19C382,-169.46 346.14,-167.25 302,-167.25 257.86,-167.25 222,-169.46 222,-172.19"/>
<text xml:space="preserve" text-anchor="middle" x="302" y="-152.42" font-family="Arial" font-size="14.00">Cohere Embed v3</text>
<text xml:space="preserve" text-anchor="middle" x="302" y="-136.67" font-family="Arial" font-size="14.00">(Generate embeddings)</text>
</g>
<!-- tool_search_manuals&#45;&gt;embed -->
<g id="edge7" class="edge">
<title>tool_search_manuals&#45;&gt;embed</title>
<path fill="none" stroke="black" d="M123.59,-251.88C156.31,-233.37 206.67,-204.89 245.54,-182.9"/>
<polygon fill="black" stroke="black" points="246.87,-186.17 253.85,-178.2 243.42,-180.08 246.87,-186.17"/>
<text xml:space="preserve" text-anchor="middle" x="220.06" y="-220.82" font-family="Times,serif" font-size="14.00">Embed query</text>
</g>
<!-- tool_search_doctrine&#45;&gt;embed -->
<g id="edge8" class="edge">
<title>tool_search_doctrine&#45;&gt;embed</title>
<path fill="none" stroke="black" d="M264.13,-251.88C270.55,-234.78 280.16,-209.18 288.09,-188.04"/>
<polygon fill="black" stroke="black" points="291.29,-189.47 291.53,-178.88 284.74,-187.01 291.29,-189.47"/>
<text xml:space="preserve" text-anchor="middle" x="313.56" y="-220.82" font-family="Times,serif" font-size="14.00">Embed query</text>
</g>
<!-- audit_log -->
<g id="node12" class="node">
<title>audit_log</title>
<path fill="#64b5f6" stroke="black" d="M489.75,-172.19C489.75,-174.91 469.69,-177.12 445,-177.12 420.31,-177.12 400.25,-174.91 400.25,-172.19 400.25,-172.19 400.25,-127.75 400.25,-127.75 400.25,-125.03 420.31,-122.81 445,-122.81 469.69,-122.81 489.75,-125.03 489.75,-127.75 489.75,-127.75 489.75,-172.19 489.75,-172.19"/>
<path fill="none" stroke="black" d="M489.75,-172.19C489.75,-169.46 469.69,-167.25 445,-167.25 420.31,-167.25 400.25,-169.46 400.25,-172.19"/>
<text xml:space="preserve" text-anchor="middle" x="445" y="-152.42" font-family="Arial" font-size="14.00">Audit Logs</text>
<text xml:space="preserve" text-anchor="middle" x="445" y="-136.67" font-family="Arial" font-size="14.00">(JSON files)</text>
</g>
<!-- tool_log_access&#45;&gt;audit_log -->
<g id="edge10" class="edge">
<title>tool_log_access&#45;&gt;audit_log</title>
<path fill="none" stroke="black" d="M445,-251.88C445,-235.02 445,-209.88 445,-188.91"/>
<polygon fill="black" stroke="black" points="448.5,-188.97 445,-178.97 441.5,-188.97 448.5,-188.97"/>
<text xml:space="preserve" text-anchor="middle" x="460.38" y="-220.82" font-family="Times,serif" font-size="14.00">Write</text>
</g>
<!-- qdrant -->
<g id="node11" class="node">
<title>qdrant</title>
<path fill="#64b5f6" stroke="black" d="M434.12,-65.38C434.12,-68.1 400.45,-70.31 359,-70.31 317.55,-70.31 283.88,-68.1 283.88,-65.38 283.88,-65.38 283.88,-20.94 283.88,-20.94 283.88,-18.21 317.55,-16 359,-16 400.45,-16 434.12,-18.21 434.12,-20.94 434.12,-20.94 434.12,-65.38 434.12,-65.38"/>
<path fill="none" stroke="black" d="M434.12,-65.38C434.12,-62.65 400.45,-60.44 359,-60.44 317.55,-60.44 283.88,-62.65 283.88,-65.38"/>
<text xml:space="preserve" text-anchor="middle" x="359" y="-45.61" font-family="Arial" font-size="14.00">Qdrant Vector DB</text>
<text xml:space="preserve" text-anchor="middle" x="359" y="-29.86" font-family="Arial" font-size="14.00">(16 document chunks)</text>
</g>
<!-- embed&#45;&gt;qdrant -->
<g id="edge9" class="edge">
<title>embed&#45;&gt;qdrant</title>
<path fill="none" stroke="black" d="M316.38,-122.52C323.34,-109.73 331.79,-94.19 339.33,-80.33"/>
<polygon fill="black" stroke="black" points="342.2,-82.38 343.9,-71.93 336.05,-79.04 342.2,-82.38"/>
<text xml:space="preserve" text-anchor="middle" x="352.29" y="-91.51" font-family="Times,serif" font-size="14.00">Search</text>
</g>
<!-- qdrant&#45;&gt;agent_synthesize -->
<g id="edge11" class="edge">
<title>qdrant&#45;&gt;agent_synthesize</title>
<path fill="none" stroke="black" d="M434.37,-58.94C512.08,-76.41 622,-108.3 622,-148.97 622,-501.88 622,-501.88 622,-501.88 622,-553.36 469.01,-576.54 372.64,-586.04"/>
<polygon fill="black" stroke="black" points="372.32,-582.55 362.69,-586.98 372.98,-589.52 372.32,-582.55"/>
<text xml:space="preserve" text-anchor="middle" x="641.88" y="-335.32" font-family="Times,serif" font-size="14.00">Results</text>
</g>
<!-- audit_log&#45;&gt;agent_synthesize -->
<g id="edge12" class="edge">
<title>audit_log&#45;&gt;agent_synthesize</title>
<path fill="none" stroke="black" d="M490.08,-172.5C524.83,-192.59 567,-226.18 567,-270.88 567,-501.88 567,-501.88 567,-501.88 567,-543.13 452.47,-568.78 372.32,-581.68"/>
<polygon fill="black" stroke="black" points="372.09,-578.17 362.75,-583.18 373.17,-585.09 372.09,-578.17"/>
<text xml:space="preserve" text-anchor="middle" x="580.5" y="-381.32" font-family="Times,serif" font-size="14.00">Logs</text>
</g>
</g>
</svg>
